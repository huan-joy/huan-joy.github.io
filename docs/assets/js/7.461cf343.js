(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{532:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"c",(function(){return n})),r.d(e,"b",(function(){return l})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return h}));const a=/#.*$/,i=/\.(md|html)$/,o=/\/$/,n=/^[a-z]+:/i;async function l(t){const e=await fetch(t);return await e.json()}function s(t){return decodeURI(t).replace(a,"").replace(i,"")}function c(t){return n.test(t)}function d(t){if(c(t))return t;const e=t.match(a),r=e?e[0]:"",i=s(t);return o.test(i)?t:i+".html"+r}function u(t,e,r){if(c(e))return{type:"external",path:e};r&&(e=function(t,e,r){const a=t.charAt(0);if("/"===a)return t;if("?"===a||"#"===a)return e+t;const i=e.split("/");r&&i[i.length-1]||i.pop();const o=t.replace(/^\//,"").split("/");for(let t=0;t<o.length;t++){const e=o[t];".."===e?i.pop():"."!==e&&i.push(e)}""!==i[0]&&i.unshift("");return i.join("/")}(e,r));const a=s(e);for(let e=0;e<t.length;e++)if(s(t[e].regularPath)===a)return Object.assign({},t[e],{type:"page",path:d(t[e].path)});return console.error(`[vuepress] No matching page found for sidebar item "${e}"`),{}}function h(t,e,r,a){const{pages:i,themeConfig:o}=r,n=a&&o.locales&&o.locales[a]||o;if("auto"===(t.frontmatter.sidebar||n.sidebar||o.sidebar))return m(t);const l=n.sidebar||o.sidebar;if(l){const{base:r,config:a}=function(t,e){if(Array.isArray(e))return{base:"/",config:e};for(const a in e)if(0===(r=t,/(\.html|\/)$/.test(r)?r:r+"/").indexOf(encodeURI(a)))return{base:a,config:e[a]};var r;return{}}(e,l);return"auto"===a?m(t):a?a.map(t=>function t(e,r,a,i=1){if("string"==typeof e)return u(r,e,a);if(Array.isArray(e))return Object.assign(u(r,e[0],a),{title:e[1]});{const o=e.children||[];return 0===o.length&&e.path?Object.assign(u(r,e.path,a),{title:e.title}):{type:"group",path:e.path,title:e.title,sidebarDepth:e.sidebarDepth,initialOpenGroupIndex:e.initialOpenGroupIndex,children:o.map(e=>t(e,r,a,i+1)),collapsable:!1!==e.collapsable}}}(t,i,r)):[]}return[]}function m(t){const e=function(t){let e;return(t=t.map(t=>Object.assign({},t))).forEach(t=>{2===t.level?e=t:e&&(e.children||(e.children=[])).push(t)}),t.filter(t=>2===t.level)}(t.headers||[]);return[{type:"group",collapsable:!1,title:t.title,path:null,children:e.map(e=>({type:"auto",title:e.title,basePath:t.path,path:t.path+"#"+e.slug,children:e.children||[]}))}]}},559:function(t,e,r){},601:function(t,e,r){"use strict";r(559)},613:function(t,e,r){"use strict";r.r(e);var a=r(532),i={data:()=>({lengthHead:8,bookmark:{},dialog:{visible:!1,type:"",index:""},form:{title:"",url:"",image:"",color:""},rules:{url:[{required:!0,type:"url",message:"请输入完整url地址",trigger:"blur"}],title:[{required:!0,min:2,max:20,message:"请输入长度在 2-20 个字符",trigger:"blur"}]}}),created(){console.log("created start");try{this.bookmark=JSON.parse(localStorage.bookmark)}catch(t){Object(a.b)("./data/bookmark.json").then(t=>{this.bookmark=t;let e=this.bookmark.headList.length;e<this.lengthHead&&(this.bookmark.headList.length=this.lengthHead),this.bookmark.headList.fill(this.form,e,this.lengthHead),localStorage.setItem("bookmark",JSON.stringify(this.bookmark))}).then(t=>{console.error(t)})}console.log("created start")},mounted(){console.log("mounted")},updated(){console.log("updated")},errorCaptured(t,e,r){console.log("errorCaptured",t,e,r)},beforeDestroy(){console.log("beforeDestroy")},methods:{getBookmarkJson(){},editCard(t,e){t==this.dialog.index&&e==this.dialog.type||("head"==e?Object.assign(this.form,this.bookmark.headList[t]):"add"==e?(Object.assign(this.form,this.$options.data().form),t=this.bookmark.cardList.length):"edit"==e&&Object.assign(this.form,this.bookmark.cardList[t])),this.dialog={index:t,type:e,visible:!0}},delCard(t){this.$confirm("确认删除该书签?",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{this.form=this.$options.data().form,"head"!=this.dialog.type&&(this.dialog.type="del"),this.submitCard()})},submitCard(){this.$refs.ruleForm.validate(t=>{(t||"del"==this.dialog.type)&&("head"==this.dialog.type?(Object.assign(this.bookmark.headList[this.dialog.index],this.form),localStorage.bookmark=JSON.stringify(this.bookmark)):("add"==this.dialog.type?this.bookmark.cardList.push(this.form):"edit"==this.dialog.type?Object.assign(this.bookmark.cardList[this.dialog.index],this.form):"del"==this.dialog.type&&this.bookmark.cardList.splice(this.dialog.index,1),localStorage.bookmark=JSON.stringify(this.bookmark)),this.dialog.visible=!1)})}}},o=(r(601),r(14)),n=Object(o.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"flex column between",attrs:{role:"main",id:"bookmark"}},[r("div",{staticClass:"head-list flex between"},[t._l(t.bookmark.headList,(function(e,a){return[e.url?r("a",{key:a,staticClass:"card",style:{"background-color":e.color,"background-image":"url("+e.image+")"},attrs:{href:e.url,target:"_blank"},on:{contextmenu:function(e){return e.preventDefault(),t.editCard(a,"head")}}},[r("img",{staticClass:"hidden",attrs:{src:e.image},on:{error:function(t){e.image=""}}}),t._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:!e.image,expression:"!head.image"}],staticClass:"desc text-aline"},[t._v(t._s(e.title))])]):r("div",{key:a,staticClass:"card add",on:{click:function(e){return t.editCard(a,"head")},contextmenu:function(e){return e.preventDefault(),t.editCard(a,"head")}}})]}))],2),t._v(" "),r("div",{staticClass:"card-list flex between"},[t._l(t.bookmark.cardList,(function(e,a){return r("a",{key:a,staticClass:"card",style:{"background-color":e.color,"background-image":"url("+e.image+")"},attrs:{href:e.url,target:"_blank"},on:{contextmenu:function(e){return e.preventDefault(),t.editCard(a,"edit")}}},[r("img",{staticClass:"hidden",attrs:{src:e.image},on:{error:function(t){e.image=""}}}),t._v(" "),r("span",{class:{"text-aline":!0,desc:!e.image,title:e.image}},[t._v(t._s(e.title))])])})),t._v(" "),r("div",{staticClass:"card add",on:{click:function(e){return t.editCard(null,"add")},contextmenu:function(e){return e.preventDefault(),t.editCard(null,"add")}}})],2),t._v(" "),r("el-dialog",{attrs:{title:"书签",visible:t.dialog.visible,width:"720px","close-on-click-modal":!1},on:{"update:visible":function(e){return t.$set(t.dialog,"visible",e)}}},[r("el-form",{ref:"ruleForm",attrs:{model:t.form,rules:t.rules,"label-width":"70px"}},[r("el-form-item",{attrs:{label:"网 址",prop:"url",required:""}},[r("el-input",{attrs:{autocomplete:"off",placeholder:"网址*"},model:{value:t.form.url,callback:function(e){t.$set(t.form,"url",e)},expression:"form.url"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"标 题",prop:"title",required:""}},[r("el-input",{attrs:{autocomplete:"off",placeholder:"标题"},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"封面图址"}},[r("el-input",{attrs:{type:"textarea",placeholder:"封面图址"},model:{value:t.form.image,callback:function(e){t.$set(t.form,"image",e)},expression:"form.image"}})],1),t._v(" "),r("el-form-item",{attrs:{label:"背景颜色"}},[r("el-color-picker",{attrs:{"show-alpha":""},model:{value:t.form.color,callback:function(e){t.$set(t.form,"color",e)},expression:"form.color"}})],1)],1),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},["edit"==t.dialog.type||"head"==t.dialog.type&&t.headList[t.dialog.index].url?r("el-button",{staticClass:"fl-l",attrs:{type:"warning"},on:{click:t.delCard}},[t._v(" 删 除 ")]):t._e(),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.submitCard}},[t._v(" 确 定 ")])],1)],1)],1)}),[],!1,null,null,null);e.default=n.exports}}]);