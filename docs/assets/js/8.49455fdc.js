(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{561:function(t,e,i){},603:function(t,e,i){"use strict";i(561)},614:function(t,e,i){"use strict";i.r(e);var o={data:()=>({board:[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0],[]],score:0}),computed:{competitiveScore(){return this.score}},mounted(){this.generateNumber(),this.generateNumber(),document.addEventListener("keyup",this.keyup);const t=this;let e=setInterval((function(){if(Hammer){document.addEventListener("touchstart",this.touchstart);const i=new Hammer(document.getElementById("app"),{});i.get("swipe").set({direction:Hammer.DIRECTION_ALL}),i.on("swipeleft swipeup swiperight swipedown",(function(e){"swipeleft"==e.type?t.moveLeft():"swipeup"==e.type?t.moveUp():"swiperight"==e.type?t.moveRight():"swipedown"==e.type&&t.moveDown()})),clearInterval(e)}}),500)},beforeDestroy(){document.removeEventListener("keyup",this.keyup),document.removeEventListener("touchstart",this.touchstart)},methods:{newGame(){this.$data.board=this.$options.data.call(this).board,this.generateNumber(),this.generateNumber()},generateNumber(){let t=Math.floor(4*Math.random()),e=Math.floor(4*Math.random()),i=0;for(;this.board[t][e]&&(t=3==t?0:t+1,i++,i%4==0&&(e=3==e?0:e+1),this.board[t][e]););let o=Math.random()<.6?2:4;setTimeout(()=>{this.board[t][e]=o,this.board.push(0),this.board.pop(),this.isGameOver()&&setTimeout(()=>alert("game over!"),100)},100),this.animationNewNum(t,e)},animationNewNum(t,e){setTimeout((function(){const i=document.getElementById(`cell-${t}-${e}`);i.style.transform="scale(1.1)",setTimeout(()=>i.style="",100)}),100)},animationMoveNum(t,e,i,o){const s=document.getElementById(`num-${t}-${e}`);s.style.transition=".1s","x"==i?s.style.transform=`translateX(${o}px)`:"y"==i&&(s.style.transform=`translateY(${o}px)`),setTimeout(()=>s.style="",100)},isGameOver(){if(this.board.flat().includes(0))return!1;for(let t=0;t<4;t++)for(let e=0;e<4;e++)if(this.board[t][e]==this.board[t][e+1]||this.board[t][e]==this.board[t+1][e])return!1;return!0},keyup(t){switch(t.keyCode){case 37:this.moveLeft();break;case 38:this.moveUp();break;case 39:this.moveRight();break;case 40:this.moveDown()}},moveLeft(){let t=!1;for(let e=0;e<4;e++){let i,o=0;this.board[e][0]&&(i=0);for(let s=1;s<4;s++)this.board[e][s]&&(isNaN(i)?(this.animationMoveNum(e,s,"x",-100*(s-o)),i=o,this.board[e][i]=this.board[e][s],this.board[e][s]=0,t=!0):this.board[e][s]==this.board[e][i]?(this.animationMoveNum(e,s,"x",-100*(s-i)),this.animationNewNum(e,i),this.score+=2*this.board[e][s],this.board[e][i]=2*this.board[e][s],this.board[e][s]=0,o=i+1,i=void 0,t=!0):s-i-1>0||!this.board[e][i]?(this.animationMoveNum(e,s,"x",-100*(s-i-1)),i++,this.board[e][i]=this.board[e][s],this.board[e][s]=0,t=!0):i++)}t&&this.generateNumber()},moveUp(){let t=!1;for(let e=0;e<4;e++){let i,o=0;this.board[0][e]&&(i=0);for(let s=1;s<4;s++)this.board[s][e]&&(isNaN(i)?(this.animationMoveNum(s,e,"y",-100*(s-o)),i=o,this.board[i][e]=this.board[s][e],this.board[s][e]=0,t=!0):this.board[s][e]==this.board[i][e]?(this.animationMoveNum(s,e,"y",-100*(s-i)),this.animationNewNum(i,e),this.score+=2*this.board[s][e],this.board[i][e]=2*this.board[s][e],this.board[s][e]=0,o=i+1,i=void 0,t=!0):s-i-1>0||!this.board[i][e]?(this.animationMoveNum(s,e,"y",-100*(s-i-1)),i++,this.board[i][e]=this.board[s][e],this.board[s][e]=0,t=!0):i++)}t&&this.generateNumber()},moveRight(){let t=!1;for(let e=0;e<4;e++){let i,o=3;this.board[e][3]&&(i=3);for(let s=2;s>=0;s--)this.board[e][s]&&(isNaN(i)?(this.animationMoveNum(e,s,"x",100*(o-s)),i=o,this.board[e][i]=this.board[e][s],this.board[e][s]=0,t=!0):this.board[e][s]==this.board[e][i]?(this.animationMoveNum(e,s,"x",100*(i-s)),this.animationNewNum(e,i),this.score+=2*this.board[e][s],this.board[e][i]=2*this.board[e][s],this.board[e][s]=0,o=i-1,i=void 0,t=!0):i-s-1>0||!this.board[e][i]?(this.animationMoveNum(e,s,"x",100*(i-s-1)),i--,this.board[e][i]=this.board[e][s],this.board[e][s]=0,t=!0):i--)}t&&this.generateNumber()},moveDown(){let t=!1;for(let e=0;e<4;e++){let i,o=3;this.board[3][e]&&(i=3);for(let s=2;s>=0;s--)this.board[s][e]&&(isNaN(i)?(this.animationMoveNum(s,e,"y",100*(o-s)),i=o,this.board[i][e]=this.board[s][e],this.board[s][e]=0,t=!0):this.board[s][e]==this.board[i][e]?(this.animationMoveNum(s,e,"y",100*(i-s)),this.animationNewNum(i,e),this.score+=2*this.board[s][e],this.board[i][e]=2*this.board[s][e],this.board[s][e]=0,o=i-1,i=void 0,t=!0):i-s-1>0||!this.board[i][e]?(this.animationMoveNum(s,e,"y",100*(i-s-1)),i--,this.board[i][e]=this.board[s][e],this.board[s][e]=0,t=!0):i--)}t&&this.generateNumber()},touchstart(t){}}},s=(i(603),i(14)),a=Object(s.a)(o,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"demo-2048"}},[i("el-button",{attrs:{type:"primary"},on:{click:t.newGame}},[t._v("New Game")]),t._v(" "),i("p",[t._v("score: "),i("span",{staticClass:"score"},[t._v(t._s(t.score))])]),t._v(" "),i("div",{staticClass:"grid-container"},[t._l(4,(function(e){return t._l(4,(function(o){return i("div",{key:e+"-"+o,staticClass:"grid-cell",attrs:{id:"cell-"+(e-1)+"-"+(o-1)}},[t.board[e-1][o-1]?i("div",{class:"number number-"+t.board[e-1][o-1],attrs:{id:"num-"+(e-1)+"-"+(o-1)}},[t._v(t._s(t.board[e-1][o-1]))]):t._e()])}))}))],2),t._v(" "),i("script",{attrs:{async:"",src:"https://cdn.bootcdn.net/ajax/libs/hammer.js/2.0.8/hammer.min.js"}})],1)}),[],!1,null,null,null);e.default=a.exports}}]);